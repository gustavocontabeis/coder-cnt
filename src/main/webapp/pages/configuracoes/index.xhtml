<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui" xmlns:cc="http://java.sun.com/jsf/composite">

<ui:composition template="/pages/templates/#{configManagedBean.template}.xhtml">

	<ui:define name="pageTitle">..:: Configurações ::..</ui:define>

	<ui:define name="body">
		<p:messages />
		
		<h:outputText value="#{loginManagedBean.empresa.razaoSocial}" rendered="#{not empty loginManagedBean.empresa}" />
		<h:outputText value=" - #{loginManagedBean.exercicio.ano}" rendered="#{not empty loginManagedBean.exercicio}" /> 
		<h:outputText value=" - #{de}" rendered="#{not empty de}" />
		
		<h:form>
		?${exercicio}? 
		?#{de}? 
		?${ate}? 
			<p:focus />
			<div class="ui-fluid">
				<p:panelGrid id="pgImovel" columns="2" layout="grid" columnClasses="ui-grid-col-2, ui-grid-col-10">
		
					<p:outputLabel for="empresa" value="#{labels['conta.empresa']}" />
					<p:selectOneMenu id="empresa" value="#{loginManagedBean.empresa}" required="false">
						<f:selectItem itemLabel="[Selecione]" />
						<f:selectItems value="#{loginManagedBean.empresas}" var="obj" itemValue="#{obj}" itemLabel="#{obj.razaoSocial}" />
						<f:converter converterId="baseEntityConverter"/>
						<f:attribute name="tipo" value="br.com.cnt.model.entity.balanco.Empresa" />
						<f:attribute name="list" value="#{loginManagedBean.empresas}" />
						<p:ajax event="change" update="@all" />
					</p:selectOneMenu>
					
					<p:outputLabel for="exercicio" value="#{labels['exercicio.ano']}" />
					<p:selectOneMenu id="exercicio" value="#{loginManagedBean.exercicio}" required="false">
						<f:selectItem itemLabel="[Selecione]" />
						<f:selectItems value="#{loginManagedBean.popularComboExercicio}" var="obj" itemValue="#{obj}" itemLabel="#{obj.ano}" />
						<f:converter converterId="baseEntityConverter"/>
						<f:attribute name="tipo" value="br.com.cnt.model.entity.balanco.Exercicio" />
						<f:attribute name="list" value="#{loginManagedBean.exercicios}" />
						<p:ajax event="change" update="@all" listener="#{loginManagedBean.selecionarAno}" />
					</p:selectOneMenu>
					
					<p:outputLabel for="periodo" value="Período" />
					<p:selectOneMenu id="periodo" value="#{loginManagedBean.periodo}" required="false">
						<f:selectItem itemLabel="[Selecione]" />
						
						<f:selectItem itemValue="0" itemLabel="Anual" />
						
						<f:selectItem itemValue="1" itemLabel="1º Semestre" />
						<f:selectItem itemValue="2" itemLabel="2º Semestre" />
						
						<f:selectItem itemValue="3" itemLabel="1º Trimestre" />
						<f:selectItem itemValue="4" itemLabel="2º Trimestre" />
						<f:selectItem itemValue="5" itemLabel="3º Trimestre" />
						<f:selectItem itemValue="6" itemLabel="4º Trimestre" />
						
						<f:selectItem itemValue="7" itemLabel="1º Bimestre" />
						<f:selectItem itemValue="8" itemLabel="2º Bimestre" />
						<f:selectItem itemValue="9" itemLabel="3º Bimestre" />
						<f:selectItem itemValue="10" itemLabel="4º Bimestre" />
						<f:selectItem itemValue="11" itemLabel="5º Bimestre" />
						<f:selectItem itemValue="12" itemLabel="6º Bimestre" />
						
						<p:ajax event="change" update="de,ate" listener="#{loginManagedBean.selecionarPeriodo}" />
					</p:selectOneMenu>
					
					<p:outputLabel for="de" value="De" />
					<p:calendar id="de" value="#{loginManagedBean.de}" size="10" maxlength="10" pattern="dd/MM/yyyy" locale="pt" />
					
					<p:outputLabel for="ate" value="Até" />
					<p:calendar id="ate" value="#{loginManagedBean.ate}" size="10" maxlength="10" pattern="dd/MM/yyyy" locale="pt" />
					
				</p:panelGrid>
			</div>
		</h:form>
	</ui:define>

</ui:composition>
</html>
